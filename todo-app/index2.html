<html>
    <body>
        <input type="text"></input>
        <button onclick="addTodo()">Add todo!</button>
        <button onclick="deleteFirstToDo()">Delete first todo</button>
<button onclick="deleteLastToDo()">Delete last todo</button>
        <div id="todos"></div>
        <script>

            let todos=[]
            function addTodo(){
                todos.push({
                    title:document.querySelector('input').value
                })

                render()
            }


            //removing the first element
            
            function deleteFirstToDo(){
                todos.splice(0,1)
                render()
            }
            
            //removing the last element
            function deleteLastToDo(){
                todos.splice(todos.length-1,1)
                render()
            }

            //deleting the todo when user click the button next to the todo
            function Delete(index){
                todos.splice(index,1)
                render()
            }

            function createToDoComponent(todo,index){
                const spanEl=document.createElement('span')
                const buttonEl=document.createElement("button")

                spanEl.innerHTML=todo.title
                buttonEl.innerHTML="Delete"
                buttonEl.setAttribute("onclick","Delete("+index+")")

                const divEl=document.createElement('div')
                divEl.appendChild(spanEl)
                divEl.appendChild(buttonEl)

                return divEl
            }

            function render(){
                document.querySelector("#todos").innerHTML=" "
                for (let i=0 ;i<todos.length;i++ ){
                const element =createToDoComponent(todos[i],i);
                document.querySelector("#todos").appendChild(element)
            }



            }
        </script>
    </body>
</html>